
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.0.1">
    
    
      
        <title>Installation - Turing Community Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.38780c08.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.3f72e892.min.css">
        
          
          
          <meta name="theme-color" content="#ffc105">
        
      
    
    
    
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="amber" data-md-color-accent="amber">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#kubernetes-installation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Turing Community Documentation" class="md-header-nav__button md-logo" aria-label="Turing Community Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Turing Community Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Installation
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/turing-machines/turing-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    turing-machines/turing-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Turing Community Documentation" class="md-nav__button md-logo" aria-label="Turing Community Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Turing Community Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/turing-machines/turing-docs/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    turing-machines/turing-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../FAQ/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Kubernetes
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Kubernetes" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Installation
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" title="Installation" class="md-nav__link md-nav__link--active">
      Installation
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-aspects" class="md-nav__link">
    Key Aspects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-control-plane-and-workers" class="md-nav__link">
    Prepare control-plane and workers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initialize-the-kubernetes-control-plane-node" class="md-nav__link">
    Initialize the Kubernetes control-plane node
  </a>
  
    <nav class="md-nav" aria-label="Initialize the Kubernetes control-plane node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-kubectl-configuration" class="md-nav__link">
    Initialize kubectl configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-worker-nodes" class="md-nav__link">
    Add worker nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-container-network-interface-cni" class="md-nav__link">
    Setup Container Network Interface (CNI)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-node-cluster" class="md-nav__link">
    5 node cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    Cleanup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-links" class="md-nav__link">
    Reference Links
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../K8SUpgrade/" title="K8S Upgrade" class="md-nav__link">
      K8S Upgrade
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../AddWorker/" title="Add a worker" class="md-nav__link">
      Add a worker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../PersistentVolume/" title="Persistent Volume" class="md-nav__link">
      Persistent Volume
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../DeployFlannel/" title="Deploy Flannel" class="md-nav__link">
      Deploy Flannel
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#key-aspects" class="md-nav__link">
    Key Aspects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#prepare-control-plane-and-workers" class="md-nav__link">
    Prepare control-plane and workers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#initialize-the-kubernetes-control-plane-node" class="md-nav__link">
    Initialize the Kubernetes control-plane node
  </a>
  
    <nav class="md-nav" aria-label="Initialize the Kubernetes control-plane node">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initialize-kubectl-configuration" class="md-nav__link">
    Initialize kubectl configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#add-worker-nodes" class="md-nav__link">
    Add worker nodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#setup-container-network-interface-cni" class="md-nav__link">
    Setup Container Network Interface (CNI)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-node-cluster" class="md-nav__link">
    5 node cluster
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    Cleanup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reference-links" class="md-nav__link">
    Reference Links
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/turing-machines/turing-docs/edit/master/docs/Kubernetes/Installation.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="kubernetes-installation">Kubernetes Installation</h1>
<p>Building Kubernetes on top of Turing Pi brings another dimension to the edge computing and learning, from setting up the OS,
partitionning the OS, DHCP, NAT, cross compiling for the ARM32V7.</p>
<h3 id="key-aspects">Key Aspects</h3>
<ul>
<li>Assemble a Turing Pi Cluster</li>
<li>Deploy Kubernetes on Turing Pi</li>
</ul>
<h3 id="prepare-control-plane-and-workers">Prepare control-plane and workers</h3>
<pre><code class="bash">sudo -i

curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | \
sudo apt-key add - &amp;&amp; echo &quot;deb http://apt.kubernetes.io/ kubernetes-xenial main&quot; | \
sudo tee /etc/apt/sources.list.d/kubernetes.list &amp;&amp; sudo apt-get update -q

sudo apt-get install -qy kubelet kubectl kubeadm
</code></pre>

<p>To help during the initialization phase, get kubeadm to download the images onto docker</p>
<pre><code class="bash">kubeadm config images pull
</code></pre>

<h3 id="initialize-the-kubernetes-control-plane-node">Initialize the Kubernetes control-plane node</h3>
<pre><code class="bash">sudo kubeadm init --token-ttl=0 --pod-network-cidr=10.244.0.0/16

[init] using Kubernetes version: ...
[preflight] running pre-flight checks
        [WARNING SystemVerification]: this Docker version is not on the list of validated versions: 18.04.0-ce. Latest validated version: 18.06
[preflight/images] Pulling images required for setting up a Kubernetes cluster
[preflight/images] This might take a minute or two, depending on the speed of your internet connection
[preflight/images] You can also perform this action in beforehand using 'kubeadm config images pull'
[kubelet] Writing kubelet environment file with flags to file &quot;/var/lib/kubelet/kubeadm-flags.env&quot;
[kubelet] Writing kubelet configuration to file &quot;/var/lib/kubelet/config.yaml&quot;
[preflight] Activating the kubelet service
[certs] Generated ca certificate and key.
[certs] Generated apiserver-kubelet-client certificate and key.
[certs] Generated apiserver certificate and key.
[certs] apiserver serving cert is signed for DNS names [kubemaster-pi kubernetes kubernetes.default kubernetes.default.svc kubernetes.default.svc.cluster.local] and IPs [10.96.0.1 192.168.2.1]
[certs] Generated front-proxy-ca certificate and key.
[certs] Generated front-proxy-client certificate and key.
[certs] Generated etcd/ca certificate and key.
[certs] Generated etcd/peer certificate and key.
[certs] etcd/peer serving cert is signed for DNS names [kubemaster-pi localhost] and IPs [192.168.2.1 127.0.0.1 ::1]
[certs] Generated etcd/server certificate and key.
[certs] etcd/server serving cert is signed for DNS names [kubemaster-pi localhost] and IPs [127.0.0.1 ::1]
[certs] Generated etcd/healthcheck-client certificate and key.
[certs] Generated apiserver-etcd-client certificate and key.
[certs] valid certificates and keys now exist in &quot;/etc/kubernetes/pki&quot;
[certs] Generated sa key and public key.
[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/admin.conf&quot;
[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/kubelet.conf&quot;
[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/controller-manager.conf&quot;
[kubeconfig] Wrote KubeConfig file to disk: &quot;/etc/kubernetes/scheduler.conf&quot;
[controlplane] wrote Static Pod manifest for component kube-apiserver to &quot;/etc/kubernetes/manifests/kube-apiserver.yaml&quot;
[controlplane] wrote Static Pod manifest for component kube-controller-manager to &quot;/etc/kubernetes/manifests/kube-controller-manager.yaml&quot;
[controlplane] wrote Static Pod manifest for component kube-scheduler to &quot;/etc/kubernetes/manifests/kube-scheduler.yaml&quot;
[etcd] Wrote Static Pod manifest for a local etcd instance to &quot;/etc/kubernetes/manifests/etcd.yaml&quot;
[init] waiting for the kubelet to boot up the control plane as Static Pods from directory &quot;/etc/kubernetes/manifests&quot;              
[init] this might take a minute or longer if the control plane images have to be pulled
[apiclient] All control plane components are healthy after 88.010108 seconds
[uploadconfig] storing the configuration used in ConfigMap &quot;kubeadm-config&quot; in the &quot;kube-system&quot; Namespace
[kubelet] Creating a ConfigMap &quot;kubelet-config-1.12&quot; in namespace kube-system with the configuration for the kubeletsin the cluster
[mark-control-plane] Marking the node kubemaster-pi as control-plane by adding the label &quot;node-role.kubernetes.io/master=''&quot;
[mark-control-plane] Marking the node kubemaster-pi as control-plane by adding the taints [node-role.kubernetes.io/master:NoSchedule]
[patchnode] Uploading the CRI Socket information &quot;/var/run/dockershim.sock&quot; to the Node API object &quot;kubemaster-pi&quot; asan annotation
[bootstraptoken] using token: vej1mx.6qf2xljr39rr1i14
[bootstraptoken] configured RBAC rules to allow Node Bootstrap tokens to post CSRs in order for nodes to get long term certificate credentials
[bootstraptoken] configured RBAC rules to allow the csrapprover controller automatically approve CSRs from a Node Bootstrap Token
[bootstraptoken] configured RBAC rules to allow certificate rotation for all node client certificates in the cluster
[bootstraptoken] creating the &quot;cluster-info&quot; ConfigMap in the &quot;kube-public&quot; namespace
[addons] Applied essential addon: CoreDNS
[addons] Applied essential addon: kube-proxy

Your Kubernetes control-plane has initialized successfully!

To start using your cluster, you need to run the following as a regular user:

  mkdir -p $HOME/.kube
  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
  sudo chown $(id -u):$(id -g) $HOME/.kube/config

You should now deploy a pod network to the cluster.
Run &quot;kubectl apply -f [podnetwork].yaml&quot; with one of the options listed at:
  https://kubernetes.io/docs/concepts/cluster-administration/addons/

You can now join any number of machines by running the following on each node
as root:

  kubeadm join 192.168.2.1:6443 --token vej1mx.yyyyyy --discovery-token-ca-cert-hash sha256:xxxxxx
</code></pre>

<h4 id="initialize-kubectl-configuration">Initialize kubectl configuration</h4>
<p>As normal user (not root)</p>
<pre><code class="bash">mkdir -p $HOME/.kube
sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config
sudo chown $(id -u):$(id -g) $HOME/.kube/config
kubectl get nodes
</code></pre>

<h3 id="add-worker-nodes">Add worker nodes</h3>
<pre><code class="bash">kubeadm join 192.168.2.1:6443 --token vej1mx.yyyyyy --discovery-token-ca-cert-hash sha256:xxxxxx
</code></pre>

<h3 id="setup-container-network-interface-cni">Setup Container Network Interface (CNI)</h3>
<p>At that point, nodes are not in ready state yet and CoreDNS in pending state</p>
<pre><code class="bash">kubectl get nodes
kubectl get all -n kube-system
</code></pre>

<p>The kubectl deployment file for flannel and adapted to kubedge is available here:
Note: Be sure to have picked the right branch (arm32v7 or arm64v8) when pulling kube-deployment</p>
<pre><code class="bash">kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
</code></pre>

<p>The nodes should turn ready and CoreDNS should start</p>
<pre><code class="bash">kubectl get nodes
kubectl get all -n kube-system
</code></pre>

<h3 id="5-node-cluster">5 node cluster</h3>
<pre><code>kubectl get nodes

NAME            STATUS    ROLES     AGE       VERSION
kube-node01     Ready     &lt;none&gt;    23d       v1.9.8
kube-node02     Ready     &lt;none&gt;    23d       v1.9.8
kube-node03     Ready     &lt;none&gt;    23d       v1.9.8
kube-node04     Ready     &lt;none&gt;    23d       v1.9.8
kubemaster-pi   Ready     master    23d       v1.9.8
</code></pre>

<pre><code>kubectl get all --all-namespaces

NAMESPACE     NAME                                        READY     STATUS    RESTARTS   AGE
kube-system   pod/etcd-kubemaster-pi                      1/1       Running   0          23d
kube-system   pod/kube-apiserver-kubemaster-pi            1/1       Running   0          23d
kube-system   pod/kube-controller-manager-kubemaster-pi   1/1       Running   0          23d
kube-system   pod/kube-dns-7b6ff86f69-l7lf6               3/3       Running   0          23d
kube-system   pod/kube-flannel-ds-8xbx4                   1/1       Running   0          23d
kube-system   pod/kube-flannel-ds-9cz9f                   1/1       Running   0          23d
kube-system   pod/kube-flannel-ds-rgpcq                   1/1       Running   0          23d
kube-system   pod/kube-flannel-ds-xnjtz                   1/1       Running   0          23d
kube-system   pod/kube-flannel-ds-xxdf6                   1/1       Running   0          23d
kube-system   pod/kube-proxy-5m95q                        1/1       Running   0          23d
kube-system   pod/kube-proxy-7sh7m                        1/1       Running   0          23d
kube-system   pod/kube-proxy-f7t9r                        1/1       Running   0          23d
kube-system   pod/kube-proxy-pkqvd                        1/1       Running   0          23d
kube-system   pod/kube-proxy-shrdr                        1/1       Running   0          23d
kube-system   pod/kube-scheduler-kubemaster-pi            1/1       Running   0          23d
kube-system   pod/kubernetes-dashboard-7fcc5cb979-8vbmp   1/1       Running   0          23d

NAMESPACE     NAME                           TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)         AGE
kube-system   service/kube-dns               ClusterIP   10.96.0.10       &lt;none&gt;        53/UDP,53/TCP   23d
kube-system   service/kubernetes-dashboard   NodePort    10.102.144.189   &lt;none&gt;        443:30383/TCP   23d

NAMESPACE     NAME                                   DESIRED   CURRENT   READY     UP-TO-DATE   AVAILABLE   NODE SELECTOR                 AGE
kube-system   daemonset.extensions/kube-flannel-ds   5         5         5         5            5           beta.kubernetes.io/arch=arm   23d
kube-system   daemonset.extensions/kube-proxy        5         5         5         5            5           &lt;none&gt;                        23d

NAMESPACE     NAME                                         DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
kube-system   deployment.extensions/kube-dns               1         1         1            1           23d
kube-system   deployment.extensions/kubernetes-dashboard   1         1         1            1           23d

NAMESPACE     NAME                                                    DESIRED   CURRENT   READY     AGE
kube-system   replicaset.extensions/kube-dns-7b6ff86f69               1         1         1         23d
kube-system   replicaset.extensions/kubernetes-dashboard-7fcc5cb979   1         1         1         23d

NAMESPACE     NAME                             DESIRED   CURRENT   READY     UP-TO-DATE   AVAILABLE   NODE SELECTOR                 AGE
kube-system   daemonset.apps/kube-flannel-ds   5         5         5         5            5           beta.kubernetes.io/arch=arm   23d
kube-system   daemonset.apps/kube-proxy        5         5         5         5            5           &lt;none&gt;                        23d

NAMESPACE     NAME                                   DESIRED   CURRENT   UP-TO-DATE   AVAILABLE   AGE
kube-system   deployment.apps/kube-dns               1         1         1            1           23d
kube-system   deployment.apps/kubernetes-dashboard   1         1         1            1           23d

NAMESPACE     NAME                                              DESIRED   CURRENT   READY     AGE
kube-system   replicaset.apps/kube-dns-7b6ff86f69               1         1         1         23d
kube-system   replicaset.apps/kubernetes-dashboard-7fcc5cb979   1         1         1         23d
</code></pre>

<h3 id="cleanup">Cleanup</h3>
<p>Teardown cluster</p>
<pre><code class="bash">sudo kubeadm reset
sudo docker rm $(sudo docker ps -qa)
sudo docker image rm $(sudo docker image list -qa)
sudo apt-get purge kubeadm kubectl kubelet
sudo apt-get autoremove
sudo rm -rf ~/.kube
</code></pre>

<h3 id="reference-links">Reference Links</h3>
<ul>
<li><a href="https://blog.hypriot.com/post/setup-kubernetes-raspberry-pi-cluster/">Kubeadm on Hypriot</a></li>
</ul>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: 2020-09-29
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../FAQ/" title="FAQ" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                FAQ
              </div>
            </div>
          </a>
        
        
          <a href="../K8SUpgrade/" title="K8S Upgrade" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                K8S Upgrade
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.77e55a48.min.js"></script>
      <script src="../../assets/javascripts/bundle.aa3f9871.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>